<IfModule mod_ssl.c>
        <VirtualHost _default_:443>
                ServerAdmin webmaster@localhost

                DocumentRoot /var/www/html

                # so we can serve icons
                Alias /icons /var/www/html/icons

                <Directory /var/www/html/icons>
                Require all granted
                Options FollowSymLinks
                </Directory>



                ErrorLog ${APACHE_LOG_DIR}/error.log
                CustomLog ${APACHE_LOG_DIR}/access.log combined

                SSLEngine on

                SSLCertificateFile      /etc/ssl/private/website.pem
                SSLCertificateKeyFile /etc/ssl/private/website.key


                ProxyPass /api/ http://crtmgr_api:5001/
                ProxyPassReverse /api/ http://crtmgr_api:5001/




                <FilesMatch "\.(cgi|shtml|phtml|php)$">
                                SSLOptions +StdEnvVars
                </FilesMatch>
                <Directory /usr/lib/cgi-bin>
                                SSLOptions +StdEnvVars
                </Directory>

                <Directory /var/www/html>
                        RewriteEngine On
                        RewriteBase /
                        RewriteRule ^index\.html$ - [L]
                        RewriteCond %{REQUEST_FILENAME} !-f
                        RewriteCond %{REQUEST_FILENAME} !-d
                        RewriteRule . /index.html [L]
                </Directory>

        </VirtualHost>
</IfModule>
